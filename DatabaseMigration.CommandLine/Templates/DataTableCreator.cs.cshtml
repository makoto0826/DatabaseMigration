// Generated @Model.Now.ToString()
using Microsoft.Extensions.Logging;

namespace @Model.Migration.ProjectName
{
    public class @(Model.Migration.Table.Name)DataTableCreator
    {
        private readonly ILogger _logger;
        public @(Model.Migration.Table.Name)DataTableCreator(ILogger<@(Model.Migration.Table.Name)DataTableCreator> logger)
        {
            _logger = logger ?? throw new System.ArgumentNullException(nameof(logger));
        }

        public System.Data.DataTable Create()
        {
            var dataTable = new System.Data.DataTable();
            dataTable.TableName = "[@Model.Migration.Table.Name]";

            @foreach(var column in Model.Migration.Table.Columns)
            {
            @:dataTable.Columns.Add(new System.Data.DataColumn("@column.Destination.Name"));
            @:_logger.LogInformation("列を追加:@column.Destination.Name");
            }

            return dataTable;
        }
    }
}